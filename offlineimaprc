[general]
accounts = main
pythonfile = ~/.offlineimap.py

[Account main]
localrepository = main-local
remoterepository = main-remote
status_backend = sqlite

presynchook  = ~/.config/maildir-notmuch-sync.sh pre ~/.mail
postsynchook = ~/.config/maildir-notmuch-sync.sh post ~/.mail

[Repository main-local]
type = Maildir
localfolders = ~/.mail
nametrans = lambda folder: folder if folder != 'inbox' else 'INBOX'

[Repository main-remote]
maxconnections = 3
type = IMAP
ssl = true
remotehost = mail.farley.io
remoteuser = sean@farley.io
remotepasseval = get_keychain_pass(account="sean@farley.io", server="mail.farley.io")
sslcacertfile = /opt/local/share/curl/curl-ca-bundle.crt
nametrans = lambda folder: folder.lower()
# folderfilter = lambda foldername: foldername not in ['archive']
