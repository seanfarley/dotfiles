# Export environment variables.
export GPG_TTY=$TTY

# Make emacs the default editor
export EDITOR="emacsclient"
# Don't clear the screen after quitting a manual page
export MANPAGER="less -X"
export LESS="--ignore-case --quit-if-one-screen --quit-on-intr FRXQ"

# Have bash ignore the .DS_Store
export FIGNORE=DS_Store

# Larger bash history (allow 32⁴ entries; default is 500)
export HISTSIZE=1048576
export HISTFILESIZE=$HISTSIZE

export PROJECTS=$HOME/projects
export SANDBOX=$HOME/sandbox
export PHD=$PROJECTS/phd

export CDPATH=.:$PROJECTS:$HOME

export GOPATH=$PROJECTS/go

# sweet, sweet emacs
export EMACS_SERVER_FILE=$HOME/.emacs.d/server/server

# if we're not on our home machine, then set tramp
if [[ $HOME != /Users/$USER ]]; then
    EMACSCLIENT_TRAMP="/ssh:$(hostname -f):"
    export EMACSCLIENT_TRAMP
fi

##
# Paths, environment variables
##

# make clean tarballs
export COPYFILE_DISABLE=true

path=(
    ~/.local/bin
    ~/.npm-packages/bin
    ~/Library/Python/3.9/bin
    $path
)

# for virtualenv
export VIRTUALENV_HOME="$HOME/.virtualenvs"
mkdir -p "$VIRTUALENV_HOME"
export WORKON_HOME="$VIRTUALENV_HOME"
export VIRTUALENV_USE_DISTRIBUTE=1

# M1 homebrew
[[ -f /opt/homebrew/env ]] && source /opt/homebrew/env

if type brew &>/dev/null; then
    fpath+=$(brew --prefix)/share/zsh-completions
fi
